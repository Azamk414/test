(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{238:function(e,t,n){e.exports=n(443)},345:function(e,t,n){},346:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},368:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Text-Regular.85bd46c1.ttf"},369:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Text-Heavy.d7829d9b.otf"},370:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Text-Medium.9491854a.otf"},371:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Text-Semibold.8f079b59.otf"},372:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Text-Bold.5b6c7cdf.otf"},373:function(e,t,n){e.exports=n.p+"static/media/Manrope.2640802b.ttf"},374:function(e,t,n){e.exports=n.p+"static/media/Manrope-SemiBold.f85bb1cd.ttf"},375:function(e,t,n){e.exports=n.p+"static/media/Manrope-Medium.f661a805.ttf"},376:function(e,t,n){e.exports=n.p+"static/media/Manrope-Bold.850ffaa2.ttf"},377:function(e,t,n){e.exports=n.p+"static/media/Manrope-ExtraBold.6b0f2123.ttf"},378:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Display-Regular.aaeac71d.otf"},379:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Display-Bold.644563f4.otf"},380:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Display-Semibold.e6ef4ea3.otf"},381:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Display-Medium.51fd7406.otf"},382:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Display-Heavy.a545fc03.otf"},383:function(e,t,n){e.exports=n.p+"static/media/SF-Pro-Rounded-Regular.400bd9f8.ttf"},384:function(e,t,n){e.exports=n.p+"static/media/FontsFree-Net-SF-Pro-Rounded-Semibold.90721205.ttf"},385:function(e,t,n){e.exports=n.p+"static/media/FontsFree-Net-SF-Pro-Rounded-Bold.e64fc9d0.ttf"},386:function(e,t,n){e.exports=n.p+"static/media/FontsFree-Net-SF-Pro-Rounded-Black.9dbbd6b9.ttf"},387:function(e,t,n){e.exports=n.p+"static/media/FontsFree-Net-SF-Pro-Rounded-Heavy.8de22cfe.ttf"},388:function(e,t,n){e.exports=n.p+"static/media/SFUIDisplay-Regular.d4550c5e.otf"},389:function(e,t,n){e.exports=n.p+"static/media/SFUIText-Regular.888e0f3f.otf"},390:function(e,t,n){e.exports=n.p+"static/media/TTCommons-Regular.fc6fbc1a.ttf"},391:function(e,t,n){e.exports=n.p+"static/media/TTCommons-DemiBold.2e6a293a.ttf"},392:function(e,t,n){e.exports=n.p+"static/media/TTCommons-Bold.03428f67.ttf"},393:function(e,t,n){e.exports=n.p+"static/media/Stupid-Head.c7c4799e.ttf"},394:function(e,t,n){e.exports=n.p+"static/media/ProximaNova-Regular.1fc524a2.ttf"},395:function(e,t,n){e.exports=n.p+"static/media/ProximaNova-Bold.2b93e8e9.ttf"},396:function(e,t,n){e.exports=n.p+"static/media/ProximaNova-Semibold.3625e925.ttf"},397:function(e,t,n){e.exports=n.p+"static/media/Montserrat-Regular.ee653992.ttf"},398:function(e,t,n){e.exports=n.p+"static/media/Montserrat-SemiBold.c641dbee.ttf"},399:function(e,t,n){e.exports=n.p+"static/media/WC-Mano-Negra-Bta.d9521fb6.otf"},400:function(e,t,n){e.exports=n.p+"static/media/Roboto-Regular.11eabca2.ttf"},401:function(e,t,n){e.exports=n.p+"static/media/TTFirsNeue-Regular.0de1b0e6.ttf"},402:function(e,t,n){e.exports=n.p+"static/media/TTFirsNeue-Medium.df13f74f.ttf"},403:function(e,t,n){e.exports=n.p+"static/media/TTFirsNeue-DemiBold.44097099.ttf"},404:function(e,t,n){e.exports=n.p+"static/media/Gilroy-Regular.ae5e7255.ttf"},405:function(e,t,n){e.exports=n.p+"static/media/Gilroy-Bold.3cf0ee27.ttf"},406:function(e,t,n){e.exports=n.p+"static/media/Gilroy-Medium.6444f14a.ttf"},407:function(e,t,n){e.exports=n.p+"static/media/Gilroy-SemiBold.05bdf30b.ttf"},408:function(e,t,n){e.exports=n.p+"static/media/Inter-Regular.515cae74.ttf"},409:function(e,t,n){e.exports=n.p+"static/media/Inter-Medium.5ff1f2a9.ttf"},410:function(e,t,n){e.exports=n.p+"static/media/Inter-SemiBold.ec60b23f.ttf"},411:function(e,t,n){e.exports=n.p+"static/media/Inter-Bold.97decd2b.ttf"},412:function(e,t,n){e.exports=n.p+"static/media/Inter-Black.6385452a.ttf"},413:function(e,t,n){e.exports=n.p+"static/media/Inter-ExtraBold.bf2cf389.ttf"},414:function(e,t,n){e.exports=n.p+"static/media/Alice-Regular.c91fff83.ttf"},421:function(e,t,n){e.exports=n.p+"static/media/story.24d5353f.webp"},422:function(e,t,n){e.exports=n.p+"static/media/title.58d6a83c.svg"},423:function(e,t,n){e.exports=n.p+"static/media/text.a74be0fe.svg"},424:function(e,t,n){e.exports=n.p+"static/media/btn.3bec59ec.svg"},425:function(e,t,n){e.exports=n.p+"static/media/main.8f1b4663.webp"},426:function(e,t,n){e.exports=n.p+"static/media/title.cea016f2.svg"},427:function(e,t,n){e.exports=n.p+"static/media/text.af0b7565.svg"},428:function(e,t,n){e.exports=n.p+"static/media/btn.22d41b9c.svg"},429:function(e,t,n){var a={"./analyze.webp":430,"./analyze_end.webp":431};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=429},430:function(e,t,n){e.exports=n.p+"static/media/analyze.11f87a84.webp"},431:function(e,t,n){e.exports=n.p+"static/media/analyze_end.d1e654c2.webp"},432:function(e,t,n){e.exports=n.p+"static/media/title.ebee15f1.svg"},433:function(e,t,n){e.exports=n.p+"static/media/text.90fe2ccc.svg"},434:function(e,t,n){e.exports=n.p+"static/media/text2.3c0b2581.svg"},435:function(e,t,n){e.exports=n.p+"static/media/btn-top.1e902c5f.svg"},436:function(e,t,n){e.exports=n.p+"static/media/btn-story.15f87b12.svg"},437:function(e,t,n){e.exports=n.p+"static/media/result.10d2a1b2.webp"},438:function(e,t,n){e.exports=n.p+"static/media/title.471559cb.svg"},439:function(e,t,n){e.exports=n.p+"static/media/user-me.a97c2cb4.svg"},440:function(e,t,n){e.exports=n.p+"static/media/user.2e39712a.svg"},441:function(e,t,n){e.exports=n.p+"static/media/btn.7248572f.svg"},442:function(e,t,n){e.exports=n.p+"static/media/top.88669ce7.webp"},443:function(e,t,n){"use strict";n.r(t);n(239),n(273),n(275),n(277),n(279),n(280),n(281),n(282),n(283),n(284),n(287),n(288),n(290),n(291),n(292),n(293),n(294),n(295),n(297),n(298),n(299),n(300),n(301),n(302),n(305),n(306),n(307),n(308),n(309),n(311),n(313),n(315),n(317),n(318),n(319),n(320),n(321),n(322),n(324),n(326);var a=n(62),r=n(63),o=n(67),c=n(64),s=n(68),i=n(0),l=n.n(i),u=n(65),p=n.n(u),f=(n(335),n(336),n(11)),m=(n(345),n(346),n(6)),d=n.n(m),h=n(37),b=n(1),v=n.n(b),g=n(36),y=n(5),x=n(41),w=(n(348),n(349),n(136)),k=(n(47),n(90),n(129),n(34)),E=n.n(k);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){return j.apply(this,arguments)}function j(){return(j=Object(y.a)(v.a.mark((function e(t){var n,a,r,o,c=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2&&void 0!==c[2]?c[2]:{},r=n?"?"+Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent("object"===typeof n[e]?JSON.stringify(n[e]):n[e])})).join("&"):"",o="".concat(t).concat(r),e.next=5,new Promise((function(e,t){E()(o,O({method:"GET"},a)).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(t){return e({error:{code:-1,text:t.message}})}))}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=["SF Pro Text","SF Pro Text Heavy","SF Pro Text Semibold","SF Pro Display","SF Pro Display Bold","SF Pro Display Semibold","SF Pro Display Medium","SF Pro Rounded","SF Pro Rounded Semibold","SF Pro Rounded Bold","SF UI Display","SF UI Text","TT Commons","TT Commons Bold","TT Commons Demibold","Manrope ExtraBold","Manrope"];function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=!0,n=!1,a=void 0;try{for(var r,o=function(){var e=r.value,t=document.createElement("span");t.style.position="fixed",t.style.fontFamily=e,t.style.opacity="0",t.innerText="test",document.body.appendChild(t),t.onload=function(){return t.remove()}},c=e[Symbol.iterator]();!(t=(r=c.next()).done);t=!0)o()}catch(s){n=!0,a=s}finally{try{t||null==c.return||c.return()}finally{if(n)throw a}}}function F(e,t,n,a,r){var o=this;try{if(t===n||n-t===1)e.innerHTML=n;else{var c=null;window.requestAnimationFrame((function s(i){c||(c=i);var l=Math.min((i-c)/a,1);e.innerHTML=Math.floor(l*(n-t)+t)+(r||""),l<1&&(window.requestAnimationFrame(s),o&&o.forceUpdate())}))}}catch(s){}}function R(e){return new Promise((function(t){return setTimeout(t,e)}))}function D(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("object"!==typeof t)return"".concat(e," ").concat(t);if(void 0!==e){var a=[];return a[e]||(a[e]=e%100>4&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]),(n?e+" ":"")+t[a[e]]}}function V(e){try{return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}catch(t){return 0}}function N(e,t){return Math.floor(Math.random()*(t-e+1))+e}function C(){var e={},t=!0,n=!1,a=void 0;try{for(var r,o=new URLSearchParams(window.location.search)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var c=r.value,s=Object(w.a)(c,2),i=s[0],l=s[1];e[i]=l}}catch(u){n=!0,a=u}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return e}function L(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.go,r=void 0===a?function(e){}:a,o=n.back,c=void 0===o?function(e){}:o;this.back=Object(y.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.state.popout||void 0===e.state.popout){t.next=4;break}return e.setState({popout:null}),window.history.pushState({pop:"popout"},"Title"),t.abrupt("return");case 4:if(1!==(n=e.state.history).length){t.next=10;break}c(!1),d.a.send("VKWebAppClose",{status:"success"}),t.next=15;break;case 10:if(!(n.length>1)){t.next=15;break}return n.pop(),c(n[n.length-1]),t.next=15,e.setState({activePanel:n[n.length-1],history:n,snackbar:null});case 15:case"end":return t.stop()}}),t)}))),this.go=function(t){var n=e.state.history;"object"===typeof t&&t.currentTarget&&(t=t.currentTarget.dataset.to),r(t),n[n.length-1]!==t&&(n.push(t),window.history.pushState({activePanel:t},"Title"),e.setState({activePanel:t,history:n,snackbar:null}))},this.setActiveModal=function(t){e.setState({activeModal:t})},this.setActivePanel=function(t,n){e.setState({activePanel:t,history:n?[].concat(Object(h.a)(n),[t]):[t]})},this.setPopout=function(t){e.setState({popout:t})},this.setSnackbar=function(){var t=Object(y.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.snackbar){t.next=5;break}return t.next=3,e.setState({snackbar:null});case 3:return t.next=5,R(100);case 5:e.setState({snackbar:l.a.createElement(f.h,{onClose:function(){return e.setState({snackbar:null})}},n)});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.setAlert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[{title:"\u041e\u043a",autoclose:!0}];e.setPopout(l.a.createElement(f.b,{actions:a,actionsLayout:"vertical",onClose:function(){return e.setPopout(null)},header:t,text:n}))},this.state.history=[t],this.state.activePanel=t}function H(){return{activePanel:this.state.activePanel,onSwipeBack:this.back,history:this.state.history,popout:this.state.popout}}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=4,I=2,U=3,W="https://groups.adminbase.ru/api/",Z=W+"apps.get",K="https://proxy.adminbase.ru/",z=!1,G=0;function J(){return{2:{2:{0:23,1:24},1:{2:23,3:24}},3:{2:{0:23,1:29,2:30},1:{3:23,4:29,5:30}},4:{2:{0:16,1:20,2:29,3:30},1:{4:16,5:20,6:29,7:30}}}[B]}function Y(e,t){var n=J();if(0===e||0===t)return G;for(var a=n[e],r=Object.keys(a).map((function(e){return[e,a[e]]})),o=0;o<r.length;o++){var c=r[o];if(o===r.length-1)return parseInt(c[0]);if(parseInt(t)<=parseInt(c[1]))return parseInt(c[0])}return G}function q(e){return $.apply(this,arguments)}function $(){return($=Object(y.a)(v.a.mark((function e(t){var n,a,r,o,c,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},a=0,r=["groupsJoinUser","groupsMessageUser"];case 3:if(!(a<r.length)){e.next=28;break}o=r[a],n[o]=[],c=t[o],s=0;case 8:if(!(s<c.length)){e.next=25;break}return e.prev=9,e.next=12,d.a.send("VKWebAppGetGroupInfo",{group_id:c[s]});case 12:i=e.sent,n[o].push(i),e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(9),console.error(e.t0),s--,e.next=22,R(1e3);case 22:s++,e.next=8;break;case 25:a++,e.next=3;break;case 28:return e.abrupt("return",T({},t,{},n));case 29:case"end":return e.stop()}}),e,null,[[9,16]])})))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=Object(y.a)(v.a.mark((function e(){var t,n,a,r,o,c,s,i,l,u,p,f,m,h,b,g,y,x,w,k,E,_,O,j,S,M,F=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.length>0&&void 0!==F[0]&&F[0],z=t,n=parseInt(C().vk_app_id||0),e.next=5,P(Z,{app_id:n});case 5:for((a=e.sent.response)||(a={app_id:n,group_id_join:new Array(B*U*2).fill(1),group_id_message:new Array(B*I*2).fill(1),save_photo_album:!0,need_panel_upload_photo:!0,tg_urls:[],is_show_tg:!1,categories_for_tg:[],category_group_default:0,album_name:"\ud83e\udd2a",album_caption:"\u0423\u0437\u043d\u0430\u0439 \u043a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0441\u0442\u0438\u043a\u0435\u0440\u044b - vk.com/app51535584#mark",need_upload_default_album_photo:!1,album_default_photo_url:"https://i.ibb.co/vDCcZsf/photo-2023-01-27-14-38-48.jpg"}),r=[],o=[],s=(c=a).category_group_default,i=c.is_show_tg,l=c.categories_for_tg,u=c.need_panel_upload_photo,p=c.need_upload_default_album_photo,f=c.album_default_photo_url,m=c.group_id_join,h=c.group_id_message,b=c.save_photo_album,g=c.tg_urls,G=s,y=0;y<m.length;y+=U)r.push(m.slice(y,y+U));for(x=0;x<h.length;x+=I)o.push(h.slice(x,x+I));return e.next=13,d.a.send("VKWebAppGetUserInfo");case 13:if(w=e.sent,k=w.sex,E=w.bdate,_=E&&3===E.split(".").length?(new Date).getFullYear()-parseInt(w.bdate.split(".")[2]):0,O=Y(k,_),j=r[O],S=o[O],M={groupsJoinCategory:r,groupsJoinUser:j,groupsMessageCategory:o,groupsMessageUser:S,vk_user:w,app:a,showGroupsCategory:O,savePhotoAlbum:b,need_upload_default_album_photo:p,album_default_photo_url:f,is_show_tg:i,categories_for_tg:l,need_panel_upload_photo:u,need_panel_sex_years:0===k||0===_,tg_urls:g,sex:k,years:_},!z){e.next=25;break}return e.next=24,q(M);case 24:M=e.sent;case 25:return console.debug(M),e.abrupt("return",M);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.send("VKWebAppStorageGet",{keys:[t]});case 3:return e.abrupt("return",e.sent.keys[0].value);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function re(e,t){return d.a.send("VKWebAppStorageSet",{key:e,value:t})}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(y.a)(v.a.mark((function e(t){var n,a,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,d.a.send("VKWebAppGetAuthToken",{app_id:parseInt(C().vk_app_id),scope:t});case 4:if(a=e.sent,!(t.includes(",")?a.scope.split(",").length===t.split(",").length:a.scope===t)){e.next=9;break}return e.abrupt("return",a.access_token);case 9:if(!n){e.next=15;break}return e.next=12,oe(t,n);case 12:return e.abrupt("return",e.sent);case 15:return e.abrupt("return",!1);case 16:e.next=27;break;case 18:if(e.prev=18,e.t0=e.catch(1),!n){e.next=26;break}return e.next=23,oe(t,n);case 23:return e.abrupt("return",e.sent);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}function se(){return ie.apply(this,arguments)}function ie(){return(ie=Object(y.a)(v.a.mark((function e(){var t,n,a=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=te({v:"5.126"},n=a.length>1&&void 0!==a[1]?a[1]:{}),e.next=5,d.a.send("VKWebAppCallAPIMethod",{method:t,params:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;d.a.subscribe(function(){var n=Object(y.a)(v.a.mark((function n(a){var r,o,c,s,i;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a.detail,o=r.type,c=r.data,void 0!==o&&console.debug(o,c),"VKWebAppUpdateConfig"===o?(s=document.createAttribute("scheme"),i=c.scheme?"client_light"===c.scheme?"bright_light":c.scheme:"bright_light",s.value=t||i,document.body.attributes.setNamedItem(s),e[o]&&"function"===typeof e[o]&&e[o]()):e[o]&&"function"===typeof e[o]&&e[o]();case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}function ue(e,t,n,a){return pe.apply(this,arguments)}function pe(){return(pe=Object(y.a)(v.a.mark((function e(t,n,a,r){var o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.send("VKWebAppCallAPIMethod",{method:"photos.getWallUploadServer",params:{v:"5.126",access_token:r}});case 2:o=e.sent.response.upload_url,(c=new FormData).append("photo",t,"image.png");try{E()(K+o,{method:"POST",body:c}).then((function(e){return e.json()})).then(function(){var e=Object(y.a)(v.a.mark((function e(t){var o,c,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.server,c=t.photo,s=t.hash,e.next=3,d.a.send("VKWebAppCallAPIMethod",{method:"photos.saveWallPhoto",params:{server:o,photo:c,hash:s,caption:n,v:"5.126",access_token:r}});case 3:i=e.sent.response[0],d.a.send("VKWebAppShowWallPostBox",{message:"",copyright:a,attachments:"photo".concat(i.owner_id,"_").concat(i.id)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(s){console.error(s)}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t,n,a){return me.apply(this,arguments)}function me(){return(me=Object(y.a)(v.a.mark((function e(t,n,a,r){var o,c,s,i,l,u,p,f=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.length>4&&void 0!==f[4]&&f[4],c=f.length>5&&void 0!==f[5]?f[5]:"perm_album",r){e.next=8;break}return e.next=5,oe("photos");case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return",-1);case 8:if(e.t0=o,!e.t0){e.next=13;break}return e.next=12,ne(c);case 12:e.t0=e.sent;case 13:if(""!==(i=e.t0)&&o){e.next=23;break}return e.next=17,d.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:n,v:"5.126",access_token:r}});case 17:if(s=e.sent.response.id,!o){e.next=21;break}return e.next=21,re(c,"".concat(s));case 21:e.next=24;break;case 23:s=parseInt(i);case 24:u=!1,p=0;case 26:if(!(p<1)){e.next=51;break}return e.prev=27,e.next=30,d.a.send("VKWebAppCallAPIMethod",{method:"photos.getUploadServer",params:{album_id:s,v:"5.126",access_token:r}});case 30:l=e.sent.response.upload_url,e.next=48;break;case 33:if(e.prev=33,e.t1=e.catch(27),u){e.next=46;break}return u=!0,p--,e.next=40,d.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:n,v:"5.126",access_token:r}});case 40:if(s=e.sent.response.id,!o){e.next=44;break}return e.next=44,re(c,"".concat(s));case 44:e.next=48;break;case 46:return console.error(e.t1),e.abrupt("return",-2);case 48:p++,e.next=26;break;case 51:return t instanceof Blob&&(t=[t]),e.next=54,new Promise(function(){var e=Object(y.a)(v.a.mark((function e(n){var o,c,i,u,p,f,m,h,b,g,y,x,w,k;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,c=!1,i=void 0,e.prev=3,u=t[Symbol.iterator]();case 5:if(o=(p=u.next()).done){e.next=41;break}f=p.value,(m=new FormData).append("photo",f,"image.png"),h=0,b=0;case 11:if(!(b<1)){e.next=38;break}return e.prev=12,h++,e.next=16,E()(K+l,{method:"POST",body:m}).then((function(e){return e.json()}));case 16:return g=e.sent,y=g.server,x=g.photos_list,w=g.hash,e.next=20,d.a.send("VKWebAppCallAPIMethod",{method:"photos.save",params:{album_id:s,server:y,photos_list:x,hash:w,caption:a,v:"5.126",access_token:r}});case 20:if(!(k=e.sent).error){e.next=23;break}throw new Error(JSON.stringify(k));case 23:e.next=35;break;case 25:if(e.prev=25,e.t0=e.catch(12),!(h>=10)){e.next=32;break}console.error(e.t0),n(-4),e.next=35;break;case 32:return b--,e.next=35,R(400);case 35:b++,e.next=11;break;case 38:o=!0,e.next=5;break;case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(3),c=!0,i=e.t1;case 47:e.prev=47,e.prev=48,o||null==u.return||u.return();case 50:if(e.prev=50,!c){e.next=53;break}throw i;case 53:return e.finish(50);case 54:return e.finish(47);case 55:n(s);case 56:case"end":return e.stop()}}),e,null,[[3,43,47,55],[12,25],[48,,50,54]])})));return function(t){return e.apply(this,arguments)}}());case 54:return e.abrupt("return",e.sent);case 55:case"end":return e.stop()}}),e,null,[[27,33]])})))).apply(this,arguments)}var de="https://app-stat.special-backend.ru/method/";function he(){return be.apply(this,arguments)}function be(){return(be=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(de+"apps.entry",C());case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ve(){return ge.apply(this,arguments)}function ge(){return(ge=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(de+"apps.story",C());case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ye(){return xe.apply(this,arguments)}function xe(){return(xe=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(de+"apps.result",C());case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function we(){return ke.apply(this,arguments)}function ke(){return(ke=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(de+"apps.album",C());case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Oe=l.a.createElement("g",{clipPath:"url(#clip0_412_565)"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 167L14.1811 167L89.1812 91.9999L375 91.9999L375 47.9999L36 48L-1.04033e-05 48L0 167Z",fill:"#86CDFF"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 81L4.7925 81L37.7921 48.0004L375 48.0004L375 0.000440239L133 0.000461395L133 3.63156e-06L120.395 4.73351e-06L120.396 0.000462497L85.792 0.000465522L85.7925 7.75857e-06L-7.08124e-06 1.52588e-05L0 81Z",fill:"white"})),Pe=l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0_412_565"},l.a.createElement("rect",{width:375,height:167,fill:"white"}))),je=function(e){var t=e.svgRef,n=e.title,a=_e(e,["svgRef","title"]);return l.a.createElement("svg",Ee({preserveAspectRatio:"none",width:375,height:167,viewBox:"0 0 375 167",fill:"none",ref:t},a),n?l.a.createElement("title",null,n):null,Oe,Pe)},Se=l.a.forwardRef((function(e,t){return l.a.createElement(je,Ee({svgRef:t},e))}));n.p;function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Re=l.a.createElement("g",{clipPath:"url(#clip0_412_180)"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H192.842L212.842 20H375V208H226H26H0V0Z",fill:"#000A17"})),De=l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0_412_180"},l.a.createElement("rect",{width:375,height:208,fill:"white"}))),Ve=function(e){var t=e.svgRef,n=e.title,a=Fe(e,["svgRef","title"]);return l.a.createElement("svg",Me({preserveAspectRatio:"none",width:375,height:208,viewBox:"0 0 375 208",fill:"none",ref:t},a),n?l.a.createElement("title",null,n):null,Re,De)},Ne=l.a.forwardRef((function(e,t){return l.a.createElement(Ve,Me({svgRef:t},e))}));n.p;function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var He=l.a.createElement("path",{d:"M13.7608 31.5H21.2392C21.6533 31.5 21.9917 31.1617 21.9917 30.7475V4.2525C21.9917 3.83833 21.6533 3.5 21.2392 3.5H13.7608C13.3467 3.5 13.0083 3.83833 13.0083 4.2525V30.7475C13.0083 31.1617 13.3467 31.5 13.7608 31.5ZM31.5 13.1308C31.5 12.7167 31.1617 12.3783 30.7475 12.3783H23.9108C23.4967 12.3783 23.1583 12.7167 23.1583 13.1308V30.7475C23.1583 31.1617 23.4967 31.5 23.9108 31.5H30.7475C31.1617 31.5 31.5 31.1617 31.5 30.7475V13.1308ZM4.2525 31.5H11.0892C11.5033 31.5 11.8417 31.1617 11.8417 30.7475V18.2C11.8417 17.7858 11.5033 17.4475 11.0892 17.4475H4.2525C3.83833 17.4475 3.5 17.7858 3.5 18.2V30.7475C3.5 31.1617 3.83833 31.5 4.2525 31.5Z",fill:"#3B9EE4"}),Ae=function(e){var t=e.svgRef,n=e.title,a=Le(e,["svgRef","title"]);return l.a.createElement("svg",Ce({width:35,height:35,viewBox:"0 0 35 35",fill:"none",ref:t},a),n?l.a.createElement("title",null,n):null,He)},Te=l.a.forwardRef((function(e,t){return l.a.createElement(Ae,Ce({svgRef:t},e))})),Be=(n.p,n(135)),Ie=n.n(Be);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e){var t=e.percent,n=6+Math.round(3.13*t);return l.a.createElement("svg",{width:"319",height:"27",viewBox:"0 0 319 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("g",{clipPath:"url(#clip0_412_810)"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M283 27H308.788L318.79 16.998V0H272.509L265.509 7H6.10352e-05V27H252H283Z",fill:"#D6D6D6"}),l.a.createElement("mask",{id:"mask0_412_810",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"319",height:"27"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M283 27H308.788L318.79 16.998V0H272.509L265.509 7H6.10352e-05V27H252H283Z",fill:"white"})),l.a.createElement("g",{mask:"url(#mask0_412_810)"},l.a.createElement("rect",{height:"36",fill:"#3B9EE4",style:{transition:"all 100ms ease-in-out",width:n}}),l.a.createElement("mask",{id:"path-4-inside-1_412_810",fill:"white"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M283 27H308.788L319 16.7875V0H272.508L265.508 7H2V27H252H283Z"})),l.a.createElement("path",{d:"M308.788 27L311.616 29.8284L310.444 31H308.788V27ZM319 16.7875H323V18.4444L321.828 19.6159L319 16.7875ZM319 0V-4H323V0H319ZM272.508 0L269.68 -2.82843L270.852 -4H272.508V0ZM265.508 7L268.337 9.82843L267.165 11H265.508V7ZM2 7H-2V3H2V7ZM2 27V31H-2V27H2ZM308.788 31H283V23H308.788V31ZM321.828 19.6159L311.616 29.8284L305.959 24.1716L316.172 13.9591L321.828 19.6159ZM323 0V16.7875H315V0H323ZM272.508 -4H319V4H272.508V-4ZM262.68 4.17157L269.68 -2.82843L275.337 2.82843L268.337 9.82843L262.68 4.17157ZM265.508 11H2V3H265.508V11ZM6 7V27H-2V7H6ZM2 23H252V31H2V23ZM252 23H283V31H252V23Z",fill:"white",mask:"url(#path-4-inside-1_412_810)"}))),l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0_412_810"},l.a.createElement("rect",{width:"318.789",height:"27",fill:"white"}))))}function Ke(e){var t=e.values,n=2*Math.PI*19.5,a=n*(t[0]/100),r=n-a;return l.a.createElement("svg",{width:"69",height:"69",viewBox:"0 0 69 69",xmlns:"http://www.w3.org/2000/svg",id:"circle-diagram"},l.a.createElement("circle",{cx:"34.5",cy:"34.5",r:"19.5",fill:"none",stroke:"#3B9EE4",strokeWidth:"21",strokeDasharray:"".concat(a," ").concat(r),strokeLinecap:"butt",transform:"rotate(-180 34.5 34.5)"}),l.a.createElement("circle",{cx:"34.5",cy:"34.5",r:"19.5",fill:"none",stroke:"#FF5186",strokeWidth:"21",strokeDasharray:"".concat(r," ").concat(a),strokeLinecap:"butt",transform:"rotate(".concat(3.6*t[0]-180," 34.5 34.5)")}))}var ze=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={user_save_photo_album:!0,analyze:!0,regDate:Date.now()-864e6,maxViews:12565,friends_data:{woman:29,men:71}},L.bind(Object(x.a)(n))("main"),n.getStoryCanvas=n.getStoryCanvas.bind(Object(x.a)(n)),n.shareStory=n.shareStory.bind(Object(x.a)(n)),n.shareAlbum=n.shareAlbum.bind(Object(x.a)(n)),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le({},"bright_light"),this.changeStatusBarColor(),e.next=4,Q();case 4:return t=e.sent,e.next=7,this.setState(We({},t));case 7:return e.next=9,d.a.send("VKWebAppInit");case 9:return this.setPopout(l.a.createElement(f.g,null)),e.next=12,M(["PP Neue Machina Ultrabold"]);case 12:this.setPopout(null),he();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeStatusBarColor",value:function(){d.a.supports("VKWebAppSetViewSettings")&&d.a.send("VKWebAppSetViewSettings",{status_bar_style:"light",action_bar_color:"#FFFFFF"})}},{key:"getStoryCanvas",value:function(){var e=Object(y.a)(v.a.mark((function e(){var t,a,r,o,c,s,i,l,u,p,f,m,d,h,b,g,y,x;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.regDate,r=t.maxViews,o=t.friends_data,c=n(47),s=c.createCanvas,i=c.loadImage,l=s(1080,1920),u=l.getContext("2d"),e.next=11,i(n(421));case 11:return p=e.sent,u.drawImage(p,0,0,1080,1920),u.textAlign="left",u.fillStyle="#86CDFF",u.font="54px PP Neue Machina Ultrabold",u.fillText("\u0421 ".concat(new Date(a).toLocaleDateString("ru-RU",{day:"numeric",month:"numeric",year:"numeric"})," \u041f\u041e ").concat((new Date).toLocaleDateString("ru-RU",{day:"numeric",month:"numeric",year:"numeric"})),109,854),u.fillStyle="#FFFFFF",u.font="75px PP Neue Machina Ultrabold",u.fillText(V(r),358.8,1058),u.fillStyle="#000A17",u.font="75px PP Neue Machina Ultrabold",u.fillText("".concat(o.men,"%"),320.12,1364.92),u.fillText("".concat(o.woman,"%"),575.12,1364.92),f=o.men,m=2*Math.PI*19.5,h=m-(d=m*(f/100)),b="<svg width='69' height='69' viewBox='0 0 69 69' xmlns='http://www.w3.org/2000/svg' id='circle-diagram'>\n                <circle cx='34.5' cy='34.5' r='19.5' fill='none' stroke='#3B9EE4' stroke-width='21'\n                        stroke-dasharray='".concat(d," ").concat(h,"' stroke-linecap='butt'\n                        transform='rotate(-180 34.5 34.5)'/>\n                <circle cx='34.5' cy='34.5' r='19.5' fill='none' stroke='#FF5186' stroke-width='21'\n                        stroke-dasharray='").concat(h," ").concat(d,"' stroke-linecap='butt'\n                        transform='rotate(").concat(3.6*f-180," 34.5 34.5)'/>\n            </svg>"),g=new Blob([b],{type:"image/svg+xml;charset=utf-8"}),y=URL.createObjectURL(g),x=new Image,setTimeout((function(){return x.src=y}),1),e.next=35,new Promise((function(e){return x.onload=e}));case 35:return URL.revokeObjectURL(y),u.drawImage(x,70,1265,200,200),e.abrupt("return",l);case 38:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shareStory",value:function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setPopout(l.a.createElement(f.g,null)),e.next=4,this.getStoryCanvas();case 4:return t=e.sent,this.setPopout(null),e.next=8,d.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:t.toDataURL("image/png"),attachment:{text:"go_to",type:"url",url:"https://vk.com/app".concat(C().vk_app_id)}});case 8:ve(),this.state.token&&t.toBlob(function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.app,n.album_name,a=n.album_caption,e.next=3,ue(t,a,"https://vk.com/app".concat(C().vk_app_id),this.state.token);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"shareAlbum",value:function(){var e=Object(y.a)(v.a.mark((function e(){var t,n,a,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStoryCanvas();case 2:return t=e.sent,e.next=5,new Promise((function(e){return t.toBlob((function(t){return e(t)}))}));case 5:return n=e.sent,a=this.state.app,r=a.album_name,o=a.album_caption,e.prev=7,e.next=10,fe(n,r,o,this.state.token);case 10:e.sent>=0&&we(),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:case"end":return e.stop()}}),e,this,[[7,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"analyze",value:function(){var e=Object(y.a)(v.a.mark((function e(){var t,n,a,r,o,c,s,i,l,u,p,f=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),n=this.state.token,F.bind(this)(this.percentRef,0,10,2e3,"%"),e.prev=3,e.next=6,E()("https://groups.adminbase.ru/api/users.getRegDate?user_id=".concat(this.state.vk_user.id)).then((function(e){return e.json()}));case 6:if(!(a=e.sent).response){e.next=34;break}return r=Ie.a.parse(a.response,{attrNodeName:"attr",textNodeName:"#text",ignoreAttributes:!1})["rdf:RDF"]["foaf:Person"],o=r["ya:created"].attr["@_dc:date"],this.setState({regDate:o}),F.bind(this)(this.percentRef,10,90,3e3,"%"),e.next=13,se("wall.get",{count:100,access_token:n});case 13:return c=e.sent,e.next=16,se("friends.get",{count:5e3,fields:"sex",access_token:n});case 16:if(s=e.sent,!c||!c.response){e.next=31;break}return i=c.response.items.length>0?Math.max.apply(Math,Object(h.a)(c.response.items.map((function(e){return e.views.count})))):s&&s.response&&s.response.count>0?2*s.response.count:N(0,1e3),(l=(new Date).getFullYear()-new Date(o).getFullYear())>1?i*=Math.floor(l/2):1===l&&(i*=2),u={woman:0,men:0},s&&s.response&&s.response.count>0?(s.response.items.forEach((function(e){u[1===e.sex?"woman":"men"]++})),u.woman=Math.round(100/s.response.count*u.woman),u.men=100-u.woman):(u.woman=N(0,100),u.men=100-u.woman),e.next=25,this.setState({maxViews:i,friends_data:u});case 25:console.log({maxViews:i,friends_data:u}),(this.state.user_save_photo_album||this.state.savePhotoAlbum)&&this.shareAlbum(),p=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.bind(f)(f.percentRef,90,100,100,"%"),f.setState({analyze:!1});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Date.now()-t<5e3?setTimeout(p,5e3-(Date.now()-t)+100):p(),e.next=32;break;case 31:throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0430 \u0441\u0442\u0435\u043d\u0435");case 32:e.next=35;break;case 34:throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438");case 35:e.next=42;break;case 37:e.prev=37,e.t0=e.catch(3),console.error(e.t0),this.back(),this.setSnackbar(e.t0.message.includes("\u041e\u0448\u0438\u0431\u043a\u0430:")?e.t0.message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.");case 42:case"end":return e.stop()}}),e,this,[[3,37]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.vk_user,r=t.need_panel_upload_photo,o=t.analyze,c=t.snackbar,s=t.regDate,i=t.maxViews,u=t.friends_data;return l.a.createElement(f.i,H.bind(this)(),l.a.createElement(f.f,{id:"main"},l.a.createElement(Se,{className:"top-rect"}),l.a.createElement(Ne,{className:"bottom-rect"}),l.a.createElement("div",{className:"title",style:{background:"url(".concat(n(422),") no-repeat 100%")}},l.a.createElement("h1",null,"\u0442\u044b \u043f\u043e\u043f\u0430\u043b"),l.a.createElement("h1",null,"\u0432 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440")),l.a.createElement("h1",{className:"right-rect"},"\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440"),l.a.createElement("div",{className:"text",style:{background:"url(".concat(n(423),") no-repeat 100%")}},l.a.createElement("p",null,"\u041c\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u0442\u0435\u0431\u0435 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0431\u044b\u043b\u043e \u0433\u043e\u0441\u0442\u0435\u0439 \u043d\u0430 \u0442\u0432\u043e\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0437\u0430 \u0432\u0441\u044e \u0435\u0451 \u0438\u0441\u0442\u043e\u0440\u0438\u044e"),l.a.createElement("div",{style:{display:r?"flex":"none"}},l.a.createElement("input",{type:"checkbox",id:"save_album",defaultChecked:!0,onChange:function(t){e.setState({user_save_photo_album:t.target.checked})}}),l.a.createElement("label",{htmlFor:"save_album"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0430\u043b\u044c\u0431\u043e\u043c"))),l.a.createElement("div",{className:"bottom-container"},l.a.createElement("p",null,"\u0416\u043c\u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0430 ",l.a.createElement("span",null,"\u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0442\u0432\u043e\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435")),l.a.createElement("div",{className:"button",style:{background:"url(".concat(n(424),") no-repeat 100%")},onClick:Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,oe("photos,friends",!0);case 3:return t.t1=t.sent,t.t2={token:t.t1},t.next=7,t.t0.setState.call(t.t0,t.t2);case 7:return t.next=9,e.go("analyze");case 9:setTimeout((function(){return e.analyze()}),1e3);case 10:case"end":return t.stop()}}),t)})))},"\u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c")),l.a.createElement("img",{alt:"bg",className:"bg",src:n(425)}),c),l.a.createElement(f.f,{id:"analyze"},l.a.createElement(Se,{className:"top-rect"}),l.a.createElement(Ne,{className:"bottom-rect",style:{bottom:o&&-86}}),l.a.createElement("div",{className:"title",style:{background:"url(".concat(n(426),") no-repeat 100%")}},l.a.createElement("h1",null,"\u0430\u043d\u0430\u043b\u0438\u0437"),l.a.createElement("h1",null,o?"\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435...":"\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d")),l.a.createElement("h1",{className:"right-rect"},"\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440"),l.a.createElement("div",{className:"progress"},l.a.createElement("h1",{ref:function(t){return e.percentRef=t}},"0%"),l.a.createElement(Ze,{percent:this.percentRef?parseInt(this.percentRef.innerText):0})),l.a.createElement("div",{className:"text",style:{background:"url(".concat(n(427),") no-repeat 100%"),opacity:o?0:1}},l.a.createElement("p",null,"\u041f\u043e\u043c\u0438\u043c\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0432\u043e\u0438\u0445 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u0435\u0439 \u044f \u043c\u043e\u0433\u0443 \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u0442\u043e\u043c, \u043a\u0430\u043a\u0438\u0435 ",a&&1===a.sex?"\u043f\u0430\u0440\u043d\u0438":"\u0434\u0435\u0432\u0443\u0448\u043a\u0438"," \u0442\u043e\u0431\u043e\u0439 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0442\u0441\u044f.",l.a.createElement("br",null),"\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0436\u043c\u0438 \xab\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c\xbb")),l.a.createElement("div",{className:"button",style:{background:"url(".concat(n(428),") no-repeat 100%"),opacity:o?0:1},onClick:Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.go("result"),ye();case 2:case"end":return t.stop()}}),t)})))},"\u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c"),l.a.createElement("div",{className:"button2",style:{opacity:o?0:1},onClick:function(){e.go("result"),ye()}},"\u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0443"),l.a.createElement("img",{alt:"bg",className:"bg",src:n(429)("./analyze".concat(o?"":"_end",".webp"))})),l.a.createElement(f.f,{id:"result"},l.a.createElement(Se,{className:"top-rect"}),l.a.createElement(Ne,{className:"bottom-rect"}),l.a.createElement("div",{className:"title",style:{background:"url(".concat(n(432),") no-repeat 100%")}},l.a.createElement("p",null,"\u0417\u0430 \u043f\u0435\u0440\u0438\u043e\u0434:"),l.a.createElement("h3",null,"\u0441 ",s?new Date(s).toLocaleDateString("ru-RU",{day:"numeric",month:"numeric",year:"numeric"}):""," \u043f\u043e ",(new Date).toLocaleDateString("ru-RU",{day:"numeric",month:"numeric",year:"numeric"})),l.a.createElement("p",null,"\u0422\u0432\u043e\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e\u0441\u0435\u0442\u0438\u043b\u0438 \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e:")),l.a.createElement("div",{className:"text",style:{background:"url(".concat(n(433),") no-repeat 100%")}},i&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,V(i)),l.a.createElement("p",null,D(i,["\u0447\u0435\u043b\u043e\u0432\u0435\u043a","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","\u0447\u0435\u043b\u043e\u0432\u0435\u043a"],!1)))),l.a.createElement("div",{className:"text2",style:{background:"url(".concat(n(434),") no-repeat 100%")}},l.a.createElement(Ke,{values:[u.men,u.woman]}),l.a.createElement("p",null,u.men,"%",l.a.createElement("p",null,"\u043c\u0443\u0436\u0447\u0438\u043d")),l.a.createElement("p",null,u.woman,"%",l.a.createElement("p",null,"\u0436\u0435\u043d\u0449\u0438\u043d"))),l.a.createElement("div",{className:"bottom-container"},l.a.createElement("div",{className:"button",style:{background:"url(".concat(n(435),") no-repeat 100%")},onClick:function(){e.go("top")}},l.a.createElement(Te,null),l.a.createElement("p",null,"\u0442\u043e\u043f")),l.a.createElement("div",{className:"button",style:{background:"url(".concat(n(436),") no-repeat 100%")},onClick:function(){e.shareStory()}},l.a.createElement("p",null,"\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),l.a.createElement("p",null,"\u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"))),l.a.createElement("h1",{className:"right-rect"},"\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440"),l.a.createElement("img",{alt:"bg",className:"bg",src:n(437)})),l.a.createElement(f.f,{id:"top"},l.a.createElement(Se,{className:"top-rect"}),l.a.createElement(Ne,{className:"bottom-rect"}),l.a.createElement("div",{className:"title",style:{background:"url(".concat(n(438),") no-repeat 100%")}},l.a.createElement("h1",null,"\u0442\u043e\u043f"),l.a.createElement("h1",null,"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),l.a.createElement("h1",{className:"right-rect"},"\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440"),l.a.createElement("div",{className:"user-rate",style:{background:"url(".concat(n(439),") no-repeat 100%")}},l.a.createElement("img",{alt:"avatar",src:a&&a.photo_100}),l.a.createElement("div",null,a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,a.first_name," ",a.last_name),l.a.createElement("p",null,V(i)," ",D(i,["\u0433\u043e\u0441\u0442\u044c","\u0433\u043e\u0441\u0442\u044f","\u0433\u043e\u0441\u0442\u0435\u0439"],!1)))),l.a.createElement("div",null,l.a.createElement("p",null,"1245"),l.a.createElement("p",null,"\u043c\u0435\u0441\u0442\u043e"))),l.a.createElement("div",{className:"users-rate"},new Array(10).fill(0).map((function(e,t){return l.a.createElement("div",{key:"user-".concat(t),style:{background:"url(".concat(n(440),") no-repeat 100%")}},l.a.createElement("img",{alt:"avatar",src:a&&a.photo_100}),l.a.createElement("div",null,a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,a.first_name," ",a.last_name),l.a.createElement("p",null,V(i)," ",D(i,["\u0433\u043e\u0441\u0442\u044c","\u0433\u043e\u0441\u0442\u044f","\u0433\u043e\u0441\u0442\u0435\u0439"],!1)))),l.a.createElement("p",null,t+1))}))),l.a.createElement("div",{className:"shadow"}),l.a.createElement("div",{className:"button",style:{background:"url(".concat(n(441),") no-repeat 100%")},onClick:function(){e.back()}},"\u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"),l.a.createElement("img",{alt:"bg",className:"bg",src:n(442)})))}}]),t}(l.a.Component),Ge=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.subscribe((function(t){var n=t.detail,a=n.type,r=n.data;"VKWebAppUpdateConfig"===a&&e.setState({appearance:r.appearance})}))}},{key:"render",value:function(){return l.a.createElement(f.d,{webviewType:f.j.INTERNAL,appearance:this.state.appearance},l.a.createElement(f.a,null,l.a.createElement(f.c,null,l.a.createElement(ze,null))))}}]),t}(l.a.Component);p.a.render(l.a.createElement(Ge,null),document.getElementById("root"))}},[[238,1,2]]]);
//# sourceMappingURL=main.01db1d3d.chunk.js.map